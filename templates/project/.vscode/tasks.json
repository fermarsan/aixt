{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Aixt: Transpile",
      "type": "shell",
      "windows": {
        "command": [
          "if (Test-Path -Path 'pixi.toml')",
          "{ pixi run aixt transpile ${file} }",
          "else",
          "{ ${config:aixt_windows} transpile ${file} }"
        ]
      },
      "linux": {
        "command": [
          "if [ -f pixi.toml ]; then",
          "pixi run aixt transpile ${file};",
          "else",
          "${config:aixt_linux} transpile ${file};",
          "fi"
        ]
      },
      "problemMatcher": [
        "$tsc"
      ],
      "group": "build",
      "presentation": {
        "showReuseMessage": false
      }
    },
    {
      "label": "Aixt: C Compile",
      "type": "shell",
      "windows": {
        "command": [
          "if (Test-Path -Path 'pixi.toml')",
          "{ pixi run aixt c_compile ${file} }",
          "else",
          "{ ${config:aixt_windows} c_compile ${file} }"
        ]
      },
      "linux": {
        "command": [
          "if [ -f pixi.toml ]; then",
          "pixi run aixt c_compile ${file};",
          "else",
          "${config:aixt_linux} c_compile ${file};",
          "fi"
        ]
      },
      "problemMatcher": [
        "$tsc"
      ],
      "group": "build",
      "presentation": {
        "showReuseMessage": false
      }
    },
    {
      "label": "Aixt: Build",
      "type": "shell",
      "windows": {
        "command": [
          "if (Test-Path -Path 'pixi.toml')",
          "{ pixi run aixt build ${file} }",
          "else",
          "{ ${config:aixt_windows} build ${file} }"
        ]
      },
      "linux": {
        "command": [
          "if [ -f pixi.toml ]; then",
          "pixi run aixt build ${file};",
          "else",
          "${config:aixt_linux} build ${file};",
          "fi"
        ]
      },
      "problemMatcher": [
        "$tsc"
      ],
      "group": "build",
      "presentation": {
        "showReuseMessage": false
      }
    },
    {
      "label": "Aixt: Clean",
      "type": "shell",
      "windows": {
        "command": [
          "if (Test-Path -Path 'pixi.toml')",
          "{ pixi run aixt clean ${file} }",
          "else",
          "{ ${config:aixt_windows} clean ${file} }"
        ]
      },
      "linux": {
        "command": [
          "if [ -f pixi.toml ]; then",
          "pixi run aixt clean ${file};",
          "else",
          "${config:aixt_linux} clean ${file};",
          "fi"
        ]
      },
      "problemMatcher": [
        "$tsc"
      ],
      "group": "build",
      "presentation": {
        "showReuseMessage": false
      }
    },
    {
      "label": "Aixt: Run",
      "type": "shell",
      "windows": {
        "command": [
          "${fileDirname}\\${fileBasenameNoExtension}.exe"
        ]
      },
      "linux": {
        "command": [
          "${fileDirname}/${fileBasenameNoExtension}"
        ]
      },
      "problemMatcher": [
        "$tsc"
      ],
      "group": "build",
      "presentation": {
        "showReuseMessage": false
      }
    },
    {
      "label": "Aixt: Build & Run",
      "group": "build",
      "dependsOrder": "sequence",
      "dependsOn": [
        "Aixt: Build",
        "Aixt: Run"
      ]
    },
    {
      "label": "Aixt: New Project",
      "type": "shell",
      "windows": {
        "command": [
          "if (Test-Path -Path 'pixi.toml')",
          "{ pixi run aixt new -d ${config:device} -f ${input:dirName} -n ${input:projectName} }",
          "else",
          "{ ${config:aixt_windows} new -d ${config:device} -f ${input:dirName} -n ${input:projectName} }"
        ]
      },
      "linux": {
        "command": [
          "if [ -f pixi.toml ]; then",
          "pixi run aixt new -d ${config:device} -f ${input:dirName} -n ${input:projectName};",
          "else",
          "${config:aixt_linux} new -d ${config:device} -f ${input:dirName} -n ${input:projectName};",
          "fi"
        ]
      },
      "problemMatcher": [
        "$tsc"
      ],
      "group": "build",
      "presentation": {
        "showReuseMessage": false
      }
    }
  ],
  "inputs": [
    {
      "type": "promptString",
      "id": "projectName",
      "description": "Project name.",
      "default": "project"
    },
    {
      "type": "promptString",
      "id": "dirName",
      "description": "Directory name.",
      "default": "."
    },
    {
      "type": "promptString",
      "id": "device",
      "description": "Device or Board name.",
      "default": "Emulator"
    }
  ]
}