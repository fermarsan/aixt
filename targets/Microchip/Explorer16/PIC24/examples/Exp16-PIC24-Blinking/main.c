// This C code was automatically generated by Aixt Compiler
//     https://github.com/fermarsan/aixt
// Device = Exp16-PIC24
// Board = Explorer 16
// Backend = c

#include <xc.h>
#include <stdint.h>
#include <stdbool.h>
typedef int8_t i8;
typedef int16_t i16;
typedef int32_t i32;
// typedef NOT SUPPORTED i64;
typedef int16_t isize;
typedef int32_t int_literal;
typedef uint8_t u8;
typedef uint16_t u16;
typedef uint32_t u32;
// typedef NOT SUPPORTED u64;
typedef uint16_t usize;
typedef float f32;
// typedef NOT SUPPORTED f64;
typedef float float_literal;
typedef char rune;

#define _const_main__cpu_freq_mhz	_const_main__cpu_freq/1000000
#define _const_main__cpu_freq  32000000

#define FCY 16000000UL

#include <libpic30.h> 

#include <p24FJ128GA010.h>

// CONFIG2
#pragma config POSCMOD = XT		//Primary Oscillator Select->XT Oscillator mode selected
#pragma config OSCIOFNC = ON    //Primary Oscillator Output Function->OSC2/CLKO/RC15 functions as port I/O (RC15)
#pragma config FCKSM = CSDCMD   //Clock Switching and Monitor->Clock switching and Fail-Safe Clock Monitor are disabled
#pragma config FNOSC = PRIPLL   //Oscillator Select->Primary Oscillator with PLL module (HSPLL, ECPLL)
#pragma config IESO = ON    	//Internal External Switch Over Mode->IESO mode (Two-Speed Start-up) enabled

// CONFIG1
#pragma config WDTPS = PS32768	//Watchdog Timer Postscaler->1:32768
#pragma config FWPSA = PR128    //WDT Prescaler->Prescaler ratio of 1:128
#pragma config WINDIS = ON    	//Watchdog Timer Window->Standard Watchdog Timer enabled,(Windowed-mode is disabled)
#pragma config FWDTEN = OFF    	//Watchdog Timer Enable->Watchdog Timer is disabled
#pragma config ICS = PGx2    	//Comm Channel Select->Emulator/debugger uses EMUC2/EMUD2
#pragma config BKBUG = OFF    	//Background Debug->Device resets into Operational mode
#pragma config GWRP = OFF    	//General Code Segment Write Protect->Writes to program memory are allowed
#pragma config GCP = OFF    	//General Code Segment Code Protect->Code protection is disabled
#pragma config JTAGEN = OFF    	//JTAG Port Enable->JTAG port is disabled

#define _const_pin__a0 0
#define _const_pin__a1 1
#define _const_pin__a2 2
#define _const_pin__a3 3
#define _const_pin__a4 4
#define _const_pin__a5 5
#define _const_pin__a6 6
#define _const_pin__a7 7
#define _const_pin__a9 9
#define _const_pin__a10 10
#define _const_pin__a14 14
#define _const_pin__a15 15
#define _const_pin__b0 16
#define _const_pin__b1 17
#define _const_pin__b2 18
#define _const_pin__b3 19
#define _const_pin__b4 20
#define _const_pin__b5 21
#define _const_pin__b6 22
#define _const_pin__b7 23
#define _const_pin__b8 24
#define _const_pin__b9 25
#define _const_pin__b10 26
#define _const_pin__b11 27
#define _const_pin__b12 28
#define _const_pin__b13 29
#define _const_pin__b14 30
#define _const_pin__b15 31
#define _const_pin__c0 32
#define _const_pin__c1 33
#define _const_pin__c2 34
#define _const_pin__c3 35
#define _const_pin__c4 36
#define _const_pin__c12 44
#define _const_pin__c13 45
#define _const_pin__c14 46
#define _const_pin__c15 47
#define _const_pin__d0 48
#define _const_pin__d1 49
#define _const_pin__d2 50
#define _const_pin__d3 51
#define _const_pin__d4 52
#define _const_pin__d5 53
#define _const_pin__d6 54
#define _const_pin__d7 55
#define _const_pin__d8 56
#define _const_pin__d9 57
#define _const_pin__d10 58
#define _const_pin__d11 59
#define _const_pin__d12 60
#define _const_pin__d13 61
#define _const_pin__d14 62
#define _const_pin__d15 63
#define _const_pin__e0 64
#define _const_pin__e1 65
#define _const_pin__e2 66
#define _const_pin__e3 67
#define _const_pin__e4 68
#define _const_pin__e5 69
#define _const_pin__e6 70
#define _const_pin__e7 71
#define _const_pin__e8 72
#define _const_pin__e9 73
#define _const_pin__f0 80
#define _const_pin__f1 81
#define _const_pin__f2 82
#define _const_pin__f3 83
#define _const_pin__f4 84
#define _const_pin__f5 85
#define _const_pin__f6 86
#define _const_pin__f7 87
#define _const_pin__f8 88
#define _const_pin__f12 92
#define _const_pin__f13 93
#define _const_pin__g0 96
#define _const_pin__g1 97
#define _const_pin__g2 98
#define _const_pin__g3 99
#define _const_pin__g4 100
#define _const_pin__g5 101
#define _const_pin__g6 102
#define _const_pin__g7 103
#define _const_pin__g8 104
#define _const_pin__g9 105
#define _const_pin__g12 108
#define _const_pin__g13 119
#define _const_pin__g14 110
#define _const_pin__g15 111

#define time__sleep(ts) __delay_ms(ts << 10)

#define time__sleep_ms(tms) __delay_ms(tms)

#define time__sleep_us(tus) __delay_us(tus)

#define _const_pin__input (u8)(1)
#define _const_pin__output (u8)(0)

#define pin__setup(id, mode) \
if( mode == 1 ) { \
	*(&TRISA + (u16)(id / 16) * 3) |= (0x0001 << (id % 16));  \
} \
else { \
	*(&TRISA + (u16)(id / 16) * 3) &= ~(0x0001 << (id % 16));  \
}; 

#define pin__high(id) *(&LATA + (u16)(id / 16) * 3) |= 0x0001 << (id % 16)

#define pin__low(id) *(&LATA + (u16)(id / 16) * 3) &= ~(0x0001 << (id % 16))

#define pin__write(id, value) \
*(&LATA + (u16)(id / 16) * 3) &= (~(0x0001 << (id % 16))); \
*(&LATA + (u16)(id / 16) * 3) |= (value << (id % 16)); 

#define pin__toggle(id) *(&LATA + (u16)(id / 16) * 3) ^= 0x0001 << (id % 16)

#define pin__read(id)  ((u8) (u8)((*(&PORTA + (u16)(id / 16) * 3) >> (id % 16)) & 0x0001))

int main(void ) {
	pin__setup(_const_pin__a3, _const_pin__output); 
	while( true ) {
		pin__high(_const_pin__a3); 
		time__sleep_ms(500); 
		pin__low(_const_pin__a3); 
		time__sleep_ms(500); 
	} 
	return 0;
}

