// File: https://github.com/fermarsan/aixt/blob/main/
// Author: Fernando M. Santa
// Date: 2025
//
// ## Description
// Timer0 functions for the PIC16F family.
module timer0

// prescaler configures the prescaler of the Timer0
@[as_macro]
pub fn prescaler(presc u8) {
	if presc == timer0.no_pre {
		C.PSA =  1	// without prescaler
	} else {
		C.PSA =  0
		C.OPTION_REG &= 0b11111000	// deletes 3 LSBs
		C.OPTION_REG |= presc	// sets the new prescaler value
	}
}
